@* CompHmiWidgetLampRGFH *@

<DxButton Click="@_toggleLamp">
    <CompEmbeddedLamp IsOn=IsOn @ref="_lampRef" />
    @Text
</DxButton>

@code {
    bool _isOn = false;
    CompEmbeddedLamp _lampRef;
    [Parameter] public EventCallback<MouseEventArgs> Click { get; set; }
    [Parameter] public string Text { get; set; }
    [Parameter] public bool IsOn { get; set; }


    void _toggleLamp()
    {
        _isOn = !_isOn;
        Console.WriteLine($"New lamp state: {_isOn}");
        _lampRef.SetLampState(_isOn);
        Click.InvokeAsync();
    }
}


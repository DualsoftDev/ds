```
M = {U; D}  // Motor up / down
B = {1; 2; 3; 4}    // Button.  층 호출버튼
L = {1; 2; 3; 4}    // Lamp.  층 호출램프
S = {1D; 1U; 2D; 2U; 3D; 3U; 4D; 4U}    // Sensor
// Physics.  U15 = 1층에서 1.5층으로 상승.  U20 = 1.5층에서 2층으로 상승, ..
P = {U15; U20; U25; U30; U35; U40; D35; D30; D25; D20; D15; D10}
    [accE] = {M}
    [accSRE] = {S}
    [arrG] = {
        M.U > U15 < S.1D
              U15 !> S.1D
              U15 > S.2D
        M.U > U20 < S.2D
              U20 !> S.1U
              U20 > S.2U
        M.U > U25 < S.2U
              U25 !> S.2D
              U25 > S.3D
        M.U > U30 < S.3D
              U30 !> S.2U
              U30 > S.3U
        M.U > U35 < S.3U
              U35 !> S.3D
              U35 > S.4D
        M.U > U40 < S.4D
              U40 !> S.3U
              U40 > S.4U
        // M.D 및 D35 .. D10 관계도 대칭으로 동일
    }
    // Physics 초기 조건
    [initON] = {S.1D; S.1U}
    // 다른 system 에서 root segment 가져다 쓸 수 없음
    [noExport]


// 상하강x6.  층감지단x4, 목적층x4
// 12 = 1층에서 2층까지 상승 행위
// 1 : 1층 감지단.  1 = S.1D & S.1U
// T1 : 목적층이 1층인지 여부
Elevator = {12; 23; 34; 43; 32; 21; 1; 2; 3; 4; T1; T2; T3; T4}
    [accE] = {S; B}
    [accS] = {M; L}   // accSR ?
    [arrG] = {
        // 층감지단
        S.1D, S.1U > 1
        S.2D, S.2U > 2
        S.3D, S.3U > 3
        S.4D, S.4U > 4

        1 <!> 2 <!> 3 <!> 4

        // 층 도달시, 해당층 이동 segment reset
        1 !> 21
        2 !> 12
        2 !> 32
        3 !> 23
        3 !> 43
        4 !> 34

        // 1, 2, 3, 4 반복
        B.1 > L.1 <! 1      // 1층 버튼이 눌리면 1층 램프를 켠다.  1층 램프는 1층 도달하면 꺼진다.
        B.1 > T.1 <! 1      // 1층 버튼이 눌리면 목적층을 1층으로 설정.  1층 목적층은 1층 도달하면 꺼진다.

        // 현재층과 목적층을 고려하여 층간 이동
        1, T2 > 12
        1, T3 > 12
        1, T4 > 12
        2, T3 > 23
        2, T4 > 23
        3, T4 > 34

        4, T3 > 43
        4, T2 > 43
        4, T1 > 43
        3, T2 > 32
        3, T1 > 32
        2, T1 > 21

    }
    // 내부 child 가 없는 segment 는 생략 가능 : 1; 2; 3; 4; T1; T2; T3; T4
    // 1 = {}

    // 1층에서 2층 상승 이동.  2층 감지(2)에 의해서 reset
    12 = {M.U; S.1D; S.1U; S.2D; S.2U}
        [arrG] = {
            // 상승 모터 구동.  관련 센서들은 물리에 의해서 켜지거나 꺼짐
            M.U > S.2D > S.2U //!> M.U
            M.U !> S.1D
                  S.2D !> S.1U
        }

    // 2층에서 1층 하강 이동.  1층 감지(1)에 의해서 reset
    21 = {M.U; S.1D; S.1U; S.2D; S.2U}
        [arrG] = {
            // 하강 모터 구동.  관련 센서들은 물리에 의해서 켜지거나 꺼짐
            M.D > S.1U > S.1D //!> M.D
            M.D !> S.2U
                  S.1U !> S.2D
        }

    // ... 23, 34, 43, 32 생략

    [noExport]


```
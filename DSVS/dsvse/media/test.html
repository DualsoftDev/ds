<!DOCTYPE html>
    <html lang="en">
    
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width">

      <link href="https://file%2B.vscode-resource.vscode-webview.net/f%3A/Git/ds-master/DSVS/dsvse/media/ui.css" rel="stylesheet" />
      <link href="https://file%2B.vscode-resource.vscode-webview.net/f%3A/Git/ds-master/DSVS/dsvse/media/cytoscape.css" rel="stylesheet" />
      
      <script nonce="ToJ8a5W0QYvDdBcuVE6lnu9D2UfsnLAF" src="https://file%2B.vscode-resource.vscode-webview.net/f%3A/Git/ds-master/DSVS/dsvse/media/cytoscape.min.js"></script>
      <script nonce="XoSBd8zq4ZDjgjSY3sfCH8BFx3KbuLIJ" src="https://file%2B.vscode-resource.vscode-webview.net/f%3A/Git/ds-master/DSVS/dsvse/media/cytoscape-undo-redo.js"></script>
      <!-- Working!!
      <script nonce="nF8YCnxweYKuVgV19DSeUDcc3WGYSMfW" src="https://unpkg.com/cytoscape/dist/cytoscape.min.js"></script>
      <script nonce="9ZAtBrV8eSZudPyLqDSeB10P3QCOF7b4" src="https://ivis-at-bilkent.github.io/cytoscape.js-undo-redo/cytoscape-undo-redo.js"></script>
      -->

      <script nonce="oVufeXkaiIdpFZ9fPAdGrviLdN1tSq7w" src="https://cdn.rawgit.com/cpettitt/dagre/v0.7.4/dist/dagre.min.js"></script>
      <script nonce="IFvFgIl6AfdT5SkVkdP98fQIoKonZSbb" src="https://cdn.rawgit.com/cytoscape/cytoscape.js-dagre/1.5.0/cytoscape-dagre.js"></script>
      
      <title>f:\Git\ds-master\DSVS\ds-lang-samples\call.ds</title>

      <style>
        body {
          font-family: helvetica neue, helvetica, liberation sans, arial, sans-serif;
          /* font-size: 14px; */
        }    
        h1 {
          opacity: 0.5;
          font-size: 1em;
          font-weight: bold;
        }
      </style>

      <script nonce="C9Ur0Gr1GLKpNVYyDM6opVXYaHlY1nmF" src="https://file%2B.vscode-resource.vscode-webview.net/f%3A/Git/ds-master/DSVS/dsvse/media/cytoscape.ds.js"></script>

      
    </head>
    
    <body>
      <h1>DS demo: f:\Git\ds-master\DSVS\ds-lang-samples\call.ds</h1>
    
      <div id="myDiv" style="display:none">
        <input id="batchButton" type="button" value="Add 'Bob' and delete selected" />
        <b>DEL</b> to delete selected, <b>CTRL+Z</b> to undo, <b>CTRL+Y</b> to redo <br />
      </div>
    
      <div class="dropdown">
        <button onclick="layout('cose')" class="dropbtn">cose</button>
        <button onclick="layout('breadthfirst')" class="dropbtn">breadthfirst</button>
        <button onclick="layout('dagre')" class="dropbtn">dagre</button>
        <button onclick="layout('circle')" class="dropbtn">circle</button>
        <button onclick="layout('grid')" class="dropbtn">grid</button>
        <button onclick="layout('concentric')" class="dropbtn">concentric</button>
        <button onclick="layout('random')" class="dropbtn">random</button>



        <!--
        <button onclick="layout('klay')" class="dropbtn">klay</button>
        <button onclick="layout('elk')" class="dropbtn">elk</button>
        <button onclick="layout('cose-bilkent')" class="dropbtn">cose-bilkent</button>
        <button onclick="layout('dagre-bilkent')" class="dropbtn">dagre-bilkent</button>
        <button onclick="layout('cola')" class="dropbtn">cola</button>
        -->

        <div id="myDropdown" class="dropdown-content">
          <a onclick="onHLink()">Link 1</a>
          <a href="#">Link 2</a>
          <a href="#">Link 3</a>
        </div>
      </div> 

      <div id="cy"></div>
      <div id="undoRedoList"  style="display:none">
        <span style="color: darkslateblue; font-weight: bold;">Log</span>
        <div id="undos" style="padding-bottom: 20px;"></div>
      </div>



      <script nonce="d6D6MhhqaMyioVdMeOFP2PLxbFEvjRyj">
        let cy = cytoscape({
          container: document.getElementById("cy"),
          wheelSensitivity: 0.1,

          layout: {
            name: "dagre", //cose, grid, dagre, circle, random, arbor, cose-bilkent, cola, constraint
            /*
            spacingFactor: 120,		// https://stackoverflow.com/questions/54015729/cytoscape-js-spacing-between-nodes
            idealEdgeLength: 100,
            fit: false, // dangerous
            */
            gravity: -100,
            /*
            gravityCompound: -10,
            animate: false,
            */
          },
          elements: [{"data":{"id":"My","label":"My","background_color":"gray"}},{"data":{"id":"Your","label":"Your","background_color":"gray"}},{"data":{"id":"Your","label":"Your","background_color":"gray"}},{"data":{"id":"My.CALL","label":"CALL\nA~B","background_color":"blue","parent":"My"}},{"data":{"id":"Your.CALL","label":"CALL\nA~B","background_color":"blue","parent":"Your"}},{"data":{"id":"My.A","label":"A","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"A,B,C","label":"A,B,C","background_color":"beige","parent":null},"style":null,"classes":["conjunction"]},{"data":{"id":"My.B","label":"B","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"My.C","label":"C","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"My.D","label":"D","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"D,E","label":"D,E","background_color":"beige","parent":null},"style":null,"classes":["conjunction"]},{"data":{"id":"My.E","label":"E","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"My.F","label":"F","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"F,G,H","label":"F,G,H","background_color":"beige","parent":null},"style":null,"classes":["conjunction"]},{"data":{"id":"My.G","label":"G","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"My.H","label":"H","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"My.J","label":"J","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"My.K","label":"K","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"My.L","label":"L","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"My.I","label":"I","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"My.J","label":"J","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"J,K","label":"J,K","background_color":"beige","parent":null},"style":null,"classes":["conjunction"]},{"data":{"id":"My.K","label":"K","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"My.M","label":"M","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"My.N","label":"N","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"My.L","label":"L","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"My.A","label":"A","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"Your.a","label":"a","background_color":"green","parent":"Your"},"style":null,"classes":["segment"]},{"data":{"id":"Your.a","label":"a","background_color":"green","parent":"Your"},"style":null,"classes":["segment"]},{"data":{"id":"Your.b","label":"b","background_color":"green","parent":"Your"},"style":null,"classes":["segment"]},{"data":{"id":"Your.b","label":"b","background_color":"green","parent":"Your"},"style":null,"classes":["segment"]},{"data":{"id":"Your.c","label":"c","background_color":"green","parent":"Your"},"style":null,"classes":["segment"]},{"data":{"id":"Your.c","label":"c","background_color":"green","parent":"Your"},"style":null,"classes":["segment"]},{"data":{"id":"My.B","label":"B","background_color":"green","parent":"My"},"style":null,"classes":["segment"]},{"data":{"id":"My.A>A,B,C","source":"My.A","target":"A,B,C","line-style":"solid"}},{"data":{"id":"My.B>A,B,C","source":"My.B","target":"A,B,C","line-style":"solid"}},{"data":{"id":"My.C>A,B,C","source":"My.C","target":"A,B,C","line-style":"solid"}},{"data":{"id":"My.D>D,E","source":"My.D","target":"D,E","line-style":"solid"}},{"data":{"id":"My.E>D,E","source":"My.E","target":"D,E","line-style":"solid"}},{"data":{"id":"My.F>F,G,H","source":"My.F","target":"F,G,H","line-style":"solid"}},{"data":{"id":"My.G>F,G,H","source":"My.G","target":"F,G,H","line-style":"solid"}},{"data":{"id":"My.H>F,G,H","source":"My.H","target":"F,G,H","line-style":"solid"}},{"data":{"id":"A,B,C>My.J","source":"A,B,C","target":"My.J","line-style":"solid"}},{"data":{"id":"A,B,C>My.K","source":"A,B,C","target":"My.K","line-style":"solid"}},{"data":{"id":"A,B,C>My.L","source":"A,B,C","target":"My.L","line-style":"solid"}},{"data":{"id":"D,E>My.J","source":"D,E","target":"My.J","line-style":"solid"}},{"data":{"id":"D,E>My.K","source":"D,E","target":"My.K","line-style":"solid"}},{"data":{"id":"D,E>My.L","source":"D,E","target":"My.L","line-style":"solid"}},{"data":{"id":"F,G,H>My.J","source":"F,G,H","target":"My.J","line-style":"solid"}},{"data":{"id":"F,G,H>My.K","source":"F,G,H","target":"My.K","line-style":"solid"}},{"data":{"id":"F,G,H>My.L","source":"F,G,H","target":"My.L","line-style":"solid"}},{"data":{"id":"My.I>My.J","source":"My.I","target":"My.J","line-style":"solid"}},{"data":{"id":"My.I>My.K","source":"My.I","target":"My.K","line-style":"solid"}},{"data":{"id":"My.I>My.L","source":"My.I","target":"My.L","line-style":"solid"}},{"data":{"id":"My.J>J,K","source":"My.J","target":"J,K","line-style":"solid"}},{"data":{"id":"My.K>J,K","source":"My.K","target":"J,K","line-style":"solid"}},{"data":{"id":"J,K>My.M","source":"J,K","target":"My.M","line-style":"solid"}},{"data":{"id":"J,K>My.N","source":"J,K","target":"My.N","line-style":"solid"}},{"data":{"id":"My.L>My.M","source":"My.L","target":"My.M","line-style":"solid"}},{"data":{"id":"My.L>My.N","source":"My.L","target":"My.N","line-style":"solid"}},{"data":{"id":"My.A>Your.a","source":"My.A","target":"Your.a","line-style":"solid"}},{"data":{"id":"Your.a>Your.b","source":"Your.a","target":"Your.b","line-style":"solid"}},{"data":{"id":"Your.b>Your.c","source":"Your.b","target":"Your.c","line-style":"solid"}},{"data":{"id":"Your.c|>My.B","source":"Your.c","target":"My.B","line-style":"dashed"}}],
          style: [
            {
              selector: "node",
              style: {
                shape: "circle", //"round-rectangle",
                /*
                'width': 'data(width)',
                'height': 'data(height)',
                */
                color: "white", /* text color */
                "text-wrap": "wrap",  /* multiline text : use '
' */
    
                "border-width": 2,
                "border-color": "white",
                "border-style": "solid", //"dotted",
    
                'background-color': 'data(background_color)',
                /*
                'text-outline-color': 'data(background_color)',    
                'text-outline-width': 2,
                'text-outline-color': 'orange'
                */
                
                "text-opacity": 0.5,
                label: "data(label)",
                /* 'font-size' : '25px', */
    
                /* 
                // todo : 한번 color 정하면, selection color 변경할 수 있는 방법을 찾아야 함.
                "background-color": "green",
                */
              },
            },
            {
              selector: "edge",
              style: {
                "curve-style": "bezier",
                "line-color": "cyan",
                /* 'width': 1, */
                "target-arrow-shape": "triangle",
                'target-arrow-color': 'orange',
                /* 'source-arrow-shape': 'circle', */
              },
            },
            {
              selector: ":selected",
              style: {
                "border-color": "red",
                /* "border-width": 4,*/
              },
            },
          ],

          /* initial viewport state: Not working
          zoom: 0.8,
          pan: { x: 0, y: 0 },
          */

        });
  

      </script>

    </body>
    
    </html>